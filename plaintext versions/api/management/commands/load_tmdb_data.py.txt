from django.core.management.base import BaseCommand
from django.conf import settings
from ..services import load_movies, load_awards, load_timeline, load_quotes, load_songs

class Command(BaseCommand):
    help = 'Load Shah Rukh Khan movie data from TMDb and other data into the database'

    def handle(self, *args, **kwargs):
        self.stdout.write(self.style.SUCCESS('Starting data load...'))
        
        # Load movies from TMDb
        load_movies()
        self.stdout.write(self.style.SUCCESS('Movies loaded successfully'))
        
        # Load awards, timeline, quotes, and songs
        load_awards()
        load_timeline()
        load_quotes()
        load_songs()
        
        self.stdout.write(self.style.SUCCESS('All data loaded successfully'))